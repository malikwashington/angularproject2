<!--
  Carousel Component Template
  3D sphere carousel where cards orbit and always face outward
  Uses CSS 3D transforms with backface-visibility for proper orientation
-->
<div
  class="carousel-container"
  (mouseenter)="onMouseEnter()"
  (mouseleave)="onMouseLeave()"
>
  <!-- 3D scene with perspective -->
  <div class="carousel-scene">
    <!-- Rotating sphere container -->
    <div class="carousel-sphere">
      <!-- Individual card - each positioned on the sphere surface -->
      <div
        *ngFor="let slide of slides; let i = index"
        class="card-wrapper"
        [style.transform]="getCardTransform(i)"
      >
        <!-- Card with front and back faces -->
        <div class="card">
          <!-- Front face of the card (visible when facing viewer) -->
          <div
            class="card-face card-front"
            [style.backgroundImage]="'url(' + slide.imageUrl + ')'"
          >
            <!-- Overlay for text readability -->
            <div class="card-overlay">
              <h3 class="card-title">{{ slide.title }}</h3>
              <p class="card-description">{{ slide.description }}</p>
            </div>
          </div>

          <!-- Back face of the card (visible when rotated 180 degrees) -->
          <div class="card-face card-back">
            <div class="card-back-content">
              <div class="card-back-logo">{{ slide.id }}</div>
              <p class="card-back-text">{{ slide.title }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Previous slide navigation button -->
  <button
    class="carousel-control prev"
    (click)="prevSlide()"
    aria-label="Previous slide"
  >
    &#10094;
  </button>

  <!-- Next slide navigation button -->
  <button
    class="carousel-control next"
    (click)="nextSlide()"
    aria-label="Next slide"
  >
    &#10095;
  </button>

  <!-- Slide indicator dots -->
  <div class="carousel-indicators">
    <button
      *ngFor="let slide of slides; let i = index"
      class="indicator"
      [class.active]="i === getActiveSlideIndex()"
      (click)="goToSlide(i)"
      [attr.aria-label]="'Go to slide ' + (i + 1)"
    ></button>
  </div>
</div>
